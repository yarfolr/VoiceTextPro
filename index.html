<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>VoiceText Pro · Yaroslav Antoniuk "rettargatted"</title>
		<!-- Inline SVG favicon to avoid /favicon.ico 404s and improve Pages preview -->
		<link
			rel="icon"
			href="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Crect width=%22100%25%22 height=%22100%25%22 fill=%22%236d28d9%22/%3E%3Ctext x=%2250%25%22 y=%2255%25%22 font-size=%2250%22 text-anchor=%22middle%22 fill=%22white%22 font-family=%22Inter,Arial%22%3EV%3C/text%3E%3C/svg%3E"
		/>
		<link rel="stylesheet" href="styles.css" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
			rel="stylesheet"
		/>
	</head>
	<body>
		<header class="topbar sticky">
			<nav class="nav-links">
				<button id="mobileMenuBtn" class="mobile-menu-btn" aria-label="Toggle menu">☰</button>
				<div class="nav-left">
					<a href="index.html" class="nav-brand">VoiceText Pro</a>
					<div class="nav-menu">
						<a href="#" id="historyBtn" class="nav-link">
							<svg
								width="16"
								height="16"
								fill="none"
								stroke="currentColor"
								viewBox="0 0 24 24"
							>
								<path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
							</svg>
							History
						</a>
						<a href="#" id="settingsBtn" class="nav-link">
							<svg
								width="16"
								height="16"
								fill="none"
								stroke="currentColor"
								viewBox="0 0 24 24"
							>
								<path
									d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"
								></path>
								<path d="M12 12a2 2 0 100-4 2 2 0 000 4z"></path>
							</svg>
							Settings
						</a>
						<a href="help.html" class="nav-link">
							<svg
								width="16"
								height="16"
								fill="none"
								stroke="currentColor"
								viewBox="0 0 24 24"
							>
								<path
									d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
								></path>
							</svg>
							Help
						</a>
					</div>
				</div>
				<div class="nav-right">
					<a href="https://github.com/yarfolr" target="_blank" class="nav-link">
						<svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
							<path
								d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"
							/>
						</svg>
						GitHub
					</a>
					<a href="https://t.me/rettargatted" target="_blank" class="nav-link">
						<svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
							<path
								d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"
							/>
						</svg>
						Telegram
					</a>
				</div>
			</nav>
		</header>

		<main class="container">
			<section id="landing" class="card center">
				<h1>VoiceText Pro</h1>
				<p class="subtitle">by Yaroslav Antoniuk "rettargatted"</p>
				<p class="desc">Transform your voice into text effortlessly. Features live waveform visualization, multi-language support, and smart device handling.</p>
				<p class="desc">Welcome! This demo showcases client-side speech recognition using the browser's Web Speech API. Try the live microphone recording, upload audio files to playback and transcribe while playing, or paste text to the editor. For best results use Chrome/Chromium and allow microphone access when prompted.</p>
				<p class="desc">Привет! Если нужны подсказки — открой раздел Help. На мобильных устройствах используйте кнопку меню и настройки в правом нижнем углу.</p>
				<div class="landing-actions">
					<button id="startBtn" class="primary pulse">Let's Start</button>
					<button id="backBtnTop" class="secondary back-btn">Back</button>
				</div>
			</section>

			<section id="app" class="card hidden">
				<h2>Choose language</h2>
				<div id="languages" class="languages"></div>

				<div class="device-row hidden" id="deviceRow">
				<div class="device-row hidden" id="deviceRow">
					<label for="deviceSelect">Microphone:</label>
					<select id="deviceSelect"></select>
					<span id="deviceStatus" class="device-status"></span>
				</div>

				<div id="actions" class="actions hidden">
					<div class="action-row">
						<label class="action-button file-upload">
							<svg
								width="16"
								height="16"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
							>
								<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
								<polyline points="17 8 12 3 7 8" />
								<line x1="12" y1="3" x2="12" y2="15" />
							</svg>
							Upload Audio
							<input id="fileInput" type="file" accept="audio/*" hidden />
						</label>
						<button id="recordBtn" class="action-button primary-action">
							<svg
								width="16"
								height="16"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
							>
								<circle cx="12" cy="12" r="6" class="mic-icon" />
								<path d="M8 12v-2a4 4 0 0 1 8 0v2" />
								<path d="M12 16v4" />
								<path d="M8 20h8" />
							</svg>
							Voice Recognition
						</button>
					</div>

					<div id="controlPanel" class="control-panel hidden">
						<div class="status-panel">
							<div class="status-row">
								<span id="recordingStatus" class="status-indicator"></span>
								<span id="statusText" class="status-text">Ready</span>
								<span id="recordingTime" class="recording-time">00:00</span>
							</div>
							<div class="volume-meter">
								<div id="volumeBar" class="volume-bar"></div>
							</div>
						</div>

						<div id="recArea" class="rec-area hidden">
							<canvas id="waveform" width="800" height="100"></canvas>
							<div class="rec-actions">
								<button id="recStart" class="action-button primary-action">
									<svg
										width="16"
										height="16"
										viewBox="0 0 24 24"
										fill="none"
										stroke="currentColor"
									>
										<circle cx="12" cy="12" r="10" />
										<circle cx="12" cy="12" r="3" fill="currentColor" />
									</svg>
									Start Recording
								</button>
								<button
									id="recStop"
									class="action-button danger-action"
									disabled
								>
									<svg
										width="16"
										height="16"
										viewBox="0 0 24 24"
										fill="none"
										stroke="currentColor"
									>
										<rect x="6" y="6" width="12" height="12" />
									</svg>
									Stop
								</button>
								<button id="recPause" class="action-button" disabled>
									<svg
										width="16"
										height="16"
										viewBox="0 0 24 24"
										fill="none"
										stroke="currentColor"
									>
										<path d="M10 4H6v16h4V4z" />
										<path d="M18 4h-4v16h4V4z" />
									</svg>
									Pause
								</button>
							</div>
							<div class="recognition-stats">
								<div class="stat-item">
									<span class="stat-label">Noise Level:</span>
									<span id="noiseLevel" class="stat-value">Low</span>
								</div>
								<div class="stat-item">
									<span class="stat-label">Confidence:</span>
									<span id="confidenceLevel" class="stat-value">--%</span>
								</div>
							</div>
						</div>

						<div id="audioControls" class="audio-controls hidden">
							<div class="audio-player">
								<div class="player-controls">
									<button id="playUploaded" class="action-button">
										<svg
											width="16"
											height="16"
											viewBox="0 0 24 24"
											fill="none"
											stroke="currentColor"
										>
											<polygon points="5 3 19 12 5 21 5 3" />
										</svg>
										Play
									</button>
									<div class="audio-progress">
										<div class="progress-bar">
											<div id="audioProgress" class="progress"></div>
										</div>
										<span id="audioTime" class="audio-time">00:00</span>
									</div>
								</div>
								<button
									id="transcribeAudio"
									class="action-button primary-action"
								>
									<svg
										width="16"
										height="16"
										viewBox="0 0 24 24"
										fill="none"
										stroke="currentColor"
									>
										<path d="M12 18.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13z" />
										<path d="M15 12l-6-3v6l6-3z" />
									</svg>
									Transcribe Audio
								</button>
							</div>
						</div>
					</div>

					<div id="resultArea" class="result">
						<h3>Result</h3>
						<textarea
							id="resultText"
							placeholder="Transcribed or pasted text will appear here"
						></textarea>
						<div class="result-actions">
							<button id="downloadTxt">Download .txt</button>
							<button id="copyText">Copy</button>
							<button id="backBtnResult" class="secondary back-btn">Back</button>
						</div>
					</div>
				</div>
			</section>
		</main>

		<footer class="links">
			<a
				class="social"
				id="githubLink"
				href="https://github.com/rettargatted"
				target="_blank"
				>GitHub</a
			>
			<a
				class="social"
				id="tgLink"
				href="https://t.me/rettargatted"
				target="_blank"
				>Telegram</a
			>
		</footer>

		<script src="app.js"></script>

		<!-- Toast / notification -->
		<div id="toast" class="toast hidden" role="status" aria-live="polite"></div>

		<!-- Features floating launcher -->
			<button id="featuresBtn" class="features-btn" title="Open features panel">
				⚙️
			</button>
			<!-- Mobile-only settings button (visible on small screens) -->
			<button id="mobileSettingsBtn" class="features-btn mobile-only" title="Settings (mobile)">⚙</button>
		<div id="featuresPanel" class="features-panel hidden" aria-hidden="true">
			<div class="features-header">
				<h3>Features</h3>
				<button id="featuresClose" class="close-btn">×</button>
			</div>
			<input
				id="featuresSearch"
				class="features-search"
				placeholder="Search features (type and press Enter)"
			/>
			<div id="featuresList" class="features-list"></div>
		</div>
	</body>
</html>
